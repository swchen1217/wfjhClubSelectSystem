<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>五福國中線上選社系統</title>

    <link rel="icon" href="./wufulogo.png" type="image/x-icon"/>

    <!--  jQuery -->
    <script src="js/jquery-3.4.1.js"></script>
    <!-- Popper.js -->
    <script src="js/popper.min.js"></script>
    <!-- Bootstrap -->
    <link rel="stylesheet" href="css/bootstrap.css">
    <script src="js/bootstrap.js"></script>
    <!-- jQuery-confirm -->
    <link rel="stylesheet" href="css/jquery-confirm.min.css">
    <script src="js/jquery-confirm.min.js"></script>
    <!-- jQuery-cookie -->
    <script src="js/jquery.cookie.js"></script>
    <!-- FontAwesome -->
    <link href="css/all.css" rel="stylesheet">
    <!-- md5 -->
    <script src="js/md5.js"></script>
    <!-- Moment -->
    <script src="js/moment.js"></script>
    <!-- Bootstrap Table -->
    <link rel="stylesheet" href="css/bootstrap-table.css">
    <script src="js/bootstrap-table.js"></script>
    <script src="js/bootstrap-table-zh-TW.js"></script>
    <!-- Google Font APIs -->
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans+TC:400&display=swap&subset=chinese-traditional"
          rel="stylesheet">

    <!-- My CSS -->
    <link rel="stylesheet" href="css/index.css">
    <!-- My js -->
    <script src="js/alert.js"></script>
    <script src="js/index.js"></script>
</head>
<body>
<div class="jumbotron text-center" id="title_bar" style="margin-bottom:0;padding-top: 20px;padding-bottom: 20px;">
    <div class="container">
        <h1>五福國中線上選社系統</h1>
        <h4>WFJH Online Club Select System</h4>
    </div>
</div>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark" style="padding: 0px" id="mNav">
    <button class="navbar-toggler" data-toggle="collapse" data-target="#navbarToggler" style="margin-left: 16px">
        <span class="navbar-toggler-icon">
        </span>
    </button>
    <a class="navbar-brand" href="index.html" style="margin-right: 16px;margin-left: 16px">Home</a>

    <div class="collapse navbar-collapse" id="navbarToggler">
        <ul class="nav navbar-nav mr-auto">
            <li>
                <a class="nav-link" href="#ClubSelect">社團選填</a>
            </li>
            <li>
                <a class="nav-link" href="#SelectResult">選社結果</a>
            </li>
            <li>
                <a class="nav-link" href="#SelectManage">選社管理</a>
            </li>
            <li>
                <a class="nav-link" href="#ClubManage">社團管理</a>
            </li>
            <li>
                <a class="nav-link" href="#UserManage">帳號管理</a>
            </li>
        </ul>
        <ul class="nav navbar-nav ml-auto">
            <li>
                <a id="btn_login" class="nav-link" onclick="location.replace('login.html')">登入/登出</a>
            </li>
        </ul>
    </div>
</nav>
<div id="middle">
    <div class="container">
        <div id="alert">
            <div class="alert alert-primary" role="alert" style="display: none;margin-top: 16px"
                 id="alert-primary"></div>
            <div class="alert alert-success" role="alert" style="display: none;margin-top: 16px" id="alert-success">
                <div class="row">
                    <div class="col-0">
                        <div class="row" style="margin: 0px">
                            <i class="fa fa-check fa-2x" style="margin:0px 5px"></i><strong>成功：</strong>
                        </div>
                    </div>
                    <div class="col" style="padding-left: 0px">
                        <div id="alert-success-in"></div>
                    </div>
                </div>
            </div>
            <div class="alert alert-danger" role="alert" style="display: none;margin-top: 16px" id="alert-danger">
                <div class="row">
                    <div class="col-0">
                        <div class="row" style="margin: 0px">
                            <i class="fa fa-times fa-2x" style="padding:0px 5px;margin:0px 5px"></i><strong>錯誤：</strong>
                        </div>
                    </div>
                    <div class="col" style="padding-left: 0px">
                        <div id="alert-danger-in"></div>
                    </div>
                </div>
            </div>
            <div class="alert alert-warning" role="alert" style="display: none;margin-top: 16px" id="alert-warning">
                <div class="row">
                    <div class="col-0">
                        <div class="row" style="margin: 0px">
                            <i class="fa fa-exclamation-circle fa-2x" style="margin:0px 5px"></i><strong>警告：</strong>
                        </div>
                    </div>
                    <div class="col" style="padding-left: 0px">
                        <div id="alert-warning-in"></div>
                    </div>
                </div>
            </div>
            <div class="alert alert-info" role="alert" style="display: none;margin-top: 16px" id="alert-info">
                <div class="row">
                    <div class="col-0">
                        <div class="row" style="margin: 0px">
                            <i class="fa fa-info fa-2x" style="padding:0px 10px;margin:0px 5px"></i><strong>資訊：</strong>
                        </div>
                    </div>
                    <div class="col" style="padding-left: 0px">
                        <div id="alert-info-in"></div>
                    </div>
                </div>
            </div>
        </div>

        <div id="dialog_ProgressBar_Sync" class="modal inmodal fade" tabindex="-1" role="dialog" aria-hidden="true"
             data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog modal-lg modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="modal-title ">
                            資料同步中...
                        </div>
                    </div>
                    <div class="modal-body">
                        <div class="progress">
                            <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
                                 style="width: 100%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="Content_Announcement">H</div>
        <div id="Content_ClubSelect">
            <div class="row">
                <ul class="nav nav-pills" id="CS_grade_select" style="padding: 5px;border-radius: 10px;background-color: #b4efb9;" onclick="changeGradeClass()">
                    <li class="nav-item">
                        <a class="nav-link active" data-toggle="pill">一年級</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">二年級</a>
                    </li>
                </ul>
                <ul class="nav nav-pills" id="CS_class_selectG1" onclick="changeClass()" style="padding: 5px;border-radius: 10px;background-color: #ffe5b7;" >
                    <li class="nav-item">
                        <a class="nav-link active" data-toggle="pill">101</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">102</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">103</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">104</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">105</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">106</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">107</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">108</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">109</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">110</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">111</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">112</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">113</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">114</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">115</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">116</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">117</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">118</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">119</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">120</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">121</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">122</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">123</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">124</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">125</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">126</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">127</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">128</a>
                    </li>
                </ul>
                <ul class="nav nav-pills" id="CS_class_selectG2" onclick="changeClass()" style="padding: 5px;border-radius: 10px;background-color: #ffe5b7;">
                    <li class="nav-item">
                        <a class="nav-link active" data-toggle="pill">201</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">202</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">203</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">204</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">205</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">206</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">207</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">208</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">209</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">210</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">211</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">212</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">213</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">214</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">215</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">216</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">217</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">218</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">219</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">220</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">221</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">222</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">223</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">224</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">225</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">226</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">227</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill">228</a>
                    </li>
                </ul>
            </div>
            <div class="row">
                <div class="col-8">
                    <table id="table_clubSelect"></table>
                </div>
                <div class="col-4">
                    <table id="table_clubList"></table>
                </div>
            </div>


        </div>
        <div id="Content_SelectResult">2</div>
        <div id="Content_SelectManage">3</div>
        <div id="Content_ClubManage">4</div>

        <div id="Content_User_manage">
            <div class="row" id="row-user-list">
                <div class="container">
                    <table id="table_user"></table>
                </div>
            </div>
            <div class="row" id="row-user-operate">
                <div class="col-md-6">
                    <div class="card" id="card-user-change">
                        <div class="card-header">
                            <h3 class="card-title">修改使用者</h3>
                        </div>
                        <div class="card-body">
                            <form role="form" class="form-my" id="form-chguser">
                                <div class="form-group">
                                    <label for="chguser-ShowAcc">帳號(員工編號)</label>
                                    <input type="text" class="form-control-plaintext" id="chguser-ShowAcc" readonly>
                                </div>
                                <div class="form-group">
                                    <label for="chguser-ShowName">名稱</label>
                                    <div class="form-row">
                                        <div class="col">
                                            <input type="text" class="form-control" id="chguser-ShowName" readonly>
                                        </div>
                                        <div class="col">
                                            <input type="text" class="form-control" id="chguser-InputName"
                                                   placeholder="修改名稱">
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="chguser-ShowPermission">權限</label>
                                    <div class="form-row">
                                        <div class="col">
                                            <select class="custom-select" id="chguser-ShowPermission" disabled>
                                                <option value="0">0(未啟用)</option>
                                                <option value="1">1(狀態查詢)</option>
                                                <option value="2">2(狀態登錄)</option>
                                                <option value="3">3(紀錄查看)</option>
                                                <option value="4">4(裝置管理)</option>
                                                <option value="5">5(使用者管理)</option>
                                                <option value="6">6(*)</option>
                                                <option value="7">7(*)</option>
                                                <option value="8">8(*)</option>
                                                <option value="9">9(管理員)</option>
                                            </select>
                                        </div>
                                        <div class="col">
                                            <select class="custom-select" id="chguser-InputPermission">
                                                <option value="-1" selected>修改權限</option>
                                                <option value="0">0(未啟用)</option>
                                                <option value="1">1(狀態查詢)</option>
                                                <option value="2">2(狀態登錄)</option>
                                                <option value="3">3(紀錄查看)</option>
                                                <option value="4">4(裝置管理)</option>
                                                <option value="5">5(使用者管理)</option>
                                                <option value="6">6(*)</option>
                                                <option value="7">7(*)</option>
                                                <option value="8">8(*)</option>
                                                <option value="9">9(管理員)</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="chguser-ShowEmail">E-mail</label>
                                    <input type="email" class="form-control" id="chguser-ShowEmail" readonly>
                                    <input type="email" class="form-control" id="chguser-InputEmail"
                                           placeholder="修改E-mail">
                                </div>
                                <div class="form-group">
                                    <label for="chguser-InputPw">密碼</label>
                                    <input type="password" class="form-control" id="chguser-InputPw" placeholder="修改密碼">
                                    <input type="password" class="form-control" id="chguser-InputPwRe"
                                           placeholder="確認新密碼">
                                </div>

                                <!-- todo -->
                                <div class="row justify-content-between">
                                    <div class="col-4">
                                        <button id="btn_chguser-del" type="button"
                                                class="btn btn-default btn-danger btn-block" style="margin-top: 8px">
                                            刪除
                                        </button>
                                    </div>
                                    <div class="col-4">
                                        <button type="submit" class="btn btn-default btn-primary btn-block"
                                                style="margin-top: 8px">
                                            送出
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card" id="card-user-new">
                        <div class="card-header">
                            <h3 class="card-title">新增使用者</h3>
                        </div>
                        <div class="card-body">
                            <form role="form" class="form-my" id="form-newuser">
                                <div class="form-group">
                                    <label for="newuser-InputAcc">帳號(員工編號)</label>
                                    <input type="text" class="form-control" id="newuser-InputAcc" placeholder="輸入帳號"
                                           required>
                                </div>
                                <div class="form-group">
                                    <label for="newuser-InputName">名稱</label>
                                    <input type="text" class="form-control" id="newuser-InputName" placeholder="輸入名稱"
                                           required>
                                </div>
                                <div class="form-group">
                                    <label for="newuser-InputPermission">權限</label>
                                    <select class="custom-select" id="newuser-InputPermission" required>
                                        <option value="-1" selected disabled>設定權限</option>
                                        <option value="0">0(未啟用)</option>
                                        <option value="1">1(狀態查詢)</option>
                                        <option value="2">2(狀態登錄)</option>
                                        <option value="3">3(紀錄查看)</option>
                                        <option value="4">4(裝置管理)</option>
                                        <option value="5">5(使用者管理)</option>
                                        <option value="6">6(*)</option>
                                        <option value="7">7(*)</option>
                                        <option value="8">8(*)</option>
                                        <option value="9">9(管理員)</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="newuser-InputEmail">E-mail</label>
                                    <input type="email" class="form-control" id="newuser-InputEmail"
                                           placeholder="輸入E-mail" required>
                                </div>
                                <div class="form-group">
                                    <label for="newuser-InputPw">密碼</label>
                                    <input type="password" class="form-control" id="newuser-InputPw" placeholder="設定密碼">
                                    <input type="password" class="form-control" id="newuser-InputPwRe"
                                           placeholder="確認新密碼">
                                </div>

                                <div class="row justify-content-end">
                                    <div class="col-4">
                                        <button type="submit" class="btn btn-default btn-primary btn-block"
                                                style="margin-top: 8px">
                                            送出
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
<script>
    $(document).ready(function () {
        init();
        changeGradeClass();
        OnHashchangeListener();
        $("#mNav .nav a").on("click", function () {
            $("#mNav .nav").find(".active").removeClass("active");
            $(this).parent().addClass("active");
            $("#navbarToggler").collapse('hide');
        });

        if ($.cookie('LoginInfoPw') == undefined)
            $('#btn_login').text("登入");
        else
            $('#btn_login').text($.cookie('LoginInfoName') + "/登出");

        FormSubmitListener();
        ButtonOnClickListener();

        window.addEventListener('hashchange', OnHashchangeListener);

    });
</script>
</html>